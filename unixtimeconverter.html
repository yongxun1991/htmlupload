<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIX Timestamp Converter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        h1 {
            text-align: center;
            color: #007bff;
        }
        .section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        .input-field {
            display: flex;
            flex-direction: column;
        }
        .input-field label {
            margin-bottom: 5px;
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .input-field input, .input-field select {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .input-field input:focus, .input-field select:focus {
            border-color: #007bff;
            outline: none;
        }
        .error {
            color: red;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
        }
        button {
            display: block;
            width: 100%;
            padding: 12px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 20px;
        }
        button:hover {
            background: #0056b3;
        }
        #timestamp-result, #datetime-result {
            margin-top: 30px;
            font-size: 3em;
            font-weight: bold;
            text-align: center;
            color: #28a745;
            word-break: break-all;
        }
        #datetime-result {
            font-size: 2em;
        }
        #datetime-result div {
            font-size: 1.2em;
            margin-top: 10px;
            text-align: left;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>
<body>
    <h1>UNIX Timestamp Converter</h1>
    
    <div class="section">
        <h2>Convert Date/Time to UNIX Timestamp</h2>
        <div class="input-group">
            <div class="input-field">
                <label for="year">Year (1970-9999):</label>
                <input type="number" id="year" min="1970" max="9999" required>
                <div class="error" id="year-error">Invalid year (1970-9999).</div>
            </div>
            <div class="input-field">
                <label for="month">Month (1-12):</label>
                <input type="number" id="month" min="1" max="12" required>
                <div class="error" id="month-error">Invalid month (1-12).</div>
            </div>
            <div class="input-field">
                <label for="day">Day (1-31):</label>
                <input type="number" id="day" min="1" max="31" required>
                <div class="error" id="day-error">Invalid day for this month/year.</div>
            </div>
            <div class="input-field">
                <label for="hour">Hour (0-23):</label>
                <input type="number" id="hour" min="0" max="23" required>
                <div class="error" id="hour-error">Invalid hour (0-23).</div>
            </div>
            <div class="input-field">
                <label for="minute">Minute (0-59):</label>
                <input type="number" id="minute" min="0" max="59" required>
                <div class="error" id="minute-error">Invalid minute (0-59).</div>
            </div>
            <div class="input-field">
                <label for="second">Second (0-59):</label>
                <input type="number" id="second" min="0" max="59" required>
                <div class="error" id="second-error">Invalid second (0-59).</div>
            </div>
            <div class="input-field">
                <label for="timezone">Timezone (UTC offset):</label>
                <select id="timezone" required>
                    <option value="-12:00">-12:00</option>
                    <option value="-11:00">-11:00</option>
                    <option value="-10:00">-10:00</option>
                    <option value="-09:00">-09:00</option>
                    <option value="-08:00">-08:00</option>
                    <option value="-07:00">-07:00</option>
                    <option value="-06:00">-06:00</option>
                    <option value="-05:00">-05:00</option>
                    <option value="-04:00">-04:00</option>
                    <option value="-03:00">-03:00</option>
                    <option value="-02:00">-02:00</option>
                    <option value="-01:00">-01:00</option>
                    <option value="+00:00" selected>+00:00 (UTC)</option>
                    <option value="+01:00">+01:00</option>
                    <option value="+02:00">+02:00</option>
                    <option value="+03:00">+03:00</option>
                    <option value="+04:00">+04:00</option>
                    <option value="+05:00">+05:00</option>
                    <option value="+06:00">+06:00</option>
                    <option value="+07:00">+07:00</option>
                    <option value="+08:00">+08:00</option>
                    <option value="+09:00">+09:00</option>
                    <option value="+10:00">+10:00</option>
                    <option value="+11:00">+11:00</option>
                    <option value="+12:00">+12:00</option>
                </select>
                <div class="error" id="timezone-error">Invalid timezone.</div>
            </div>
        </div>
        <button onclick="convertToTimestamp()">Convert</button>
        <div id="timestamp-result"></div>
    </div>

    <div class="section">
        <h2>Convert UNIX Timestamp to Date/Time (in UTC)</h2>
        <div class="input-group">
            <div class="input-field">
                <label for="timestamp">UNIX Timestamp (seconds):</label>
                <input type="number" id="timestamp" min="0" required>
                <div class="error" id="timestamp-error">Invalid timestamp (non-negative integer).</div>
            </div>
            <div class="input-field">
                <label for="output-timezone">Output Timezone (UTC offset):</label>
                <select id="output-timezone" required>
                    <option value="-12:00">-12:00</option>
                    <option value="-11:00">-11:00</option>
                    <option value="-10:00">-10:00</option>
                    <option value="-09:00">-09:00</option>
                    <option value="-08:00">-08:00</option>
                    <option value="-07:00">-07:00</option>
                    <option value="-06:00">-06:00</option>
                    <option value="-05:00">-05:00</option>
                    <option value="-04:00">-04:00</option>
                    <option value="-03:00">-03:00</option>
                    <option value="-02:00">-02:00</option>
                    <option value="-01:00">-01:00</option>
                    <option value="+00:00" selected>+00:00 (UTC)</option>
                    <option value="+01:00">+01:00</option>
                    <option value="+02:00">+02:00</option>
                    <option value="+03:00">+03:00</option>
                    <option value="+04:00">+04:00</option>
                    <option value="+05:00">+05:00</option>
                    <option value="+06:00">+06:00</option>
                    <option value="+07:00">+07:00</option>
                    <option value="+08:00">+08:00</option>
                    <option value="+09:00">+09:00</option>
                    <option value="+10:00">+10:00</option>
                    <option value="+11:00">+11:00</option>
                    <option value="+12:00">+12:00</option>
                </select>
                <div class="error" id="output-timezone-error">Invalid timezone.</div>
            </div>
        </div>
        <button onclick="convertFromTimestamp()">Convert</button>
        <div id="datetime-result"></div>
    </div>

    <script>
        function validateInput(id, condition, errorMsg) {
            const input = document.getElementById(id);
            const error = document.getElementById(id + '-error');
            if (!condition(input.value)) {
                error.textContent = errorMsg;
                error.style.display = 'block';
                input.focus();
                return false;
            }
            error.style.display = 'none';
            return true;
        }

        function getDaysInMonth(year, month) {
            return new Date(year, month, 0).getDate();
        }

        function validateDate(year, month, day) {
            if (month < 1 || month > 12) return false;
            const maxDay = getDaysInMonth(year, month);
            return day >= 1 && day <= maxDay;
        }

        function convertToTimestamp() {
            const year = parseInt(document.getElementById('year').value);
            const month = parseInt(document.getElementById('month').value);
            const day = parseInt(document.getElementById('day').value);
            const hour = parseInt(document.getElementById('hour').value);
            const minute = parseInt(document.getElementById('minute').value);
            const second = parseInt(document.getElementById('second').value);
            const timezone = document.getElementById('timezone').value;

            let valid = true;
            valid &= validateInput('year', v => !isNaN(v) && v >= 1970 && v <= 9999, 'Invalid year (1970-9999).');
            valid &= validateInput('month', v => !isNaN(v) && v >= 1 && v <= 12, 'Invalid month (1-12).');
            valid &= validateInput('day', v => !isNaN(v) && validateDate(year, month, v), 'Invalid day for this month/year.');
            valid &= validateInput('hour', v => !isNaN(v) && v >= 0 && v <= 23, 'Invalid hour (0-23).');
            valid &= validateInput('minute', v => !isNaN(v) && v >= 0 && v <= 59, 'Invalid minute (0-59).');
            valid &= validateInput('second', v => !isNaN(v) && v >= 0 && v <= 59, 'Invalid second (0-59).');
            valid &= validateInput('timezone', v => /^([+-]\d{2}:\d{2})$/.test(v), 'Invalid timezone.');

            if (!valid) return;

            const monthStr = String(month).padStart(2, '0');
            const dayStr = String(day).padStart(2, '0');
            const hourStr = String(hour).padStart(2, '0');
            const minuteStr = String(minute).padStart(2, '0');
            const secondStr = String(second).padStart(2, '0');

            const dateStr = `${year}-${monthStr}-${dayStr}T${hourStr}:${minuteStr}:${secondStr}${timezone}`;
            const date = new Date(dateStr);
            if (isNaN(date.getTime())) {
                alert('Invalid date format. Please check your inputs.');
                return;
            }
            const timestamp = Math.floor(date.getTime() / 1000);

            document.getElementById('timestamp-result').innerHTML = `UNIX Timestamp: ${timestamp}`;
        }

        function getIanaTimeZone(tz) {
            if (tz === '+00:00' || tz === '-00:00') return 'UTC';
            const sign = tz[0];
            const hours = parseInt(tz.slice(1, 3));
            const ianaSign = sign === '+' ? '-' : '+';
            return `Etc/GMT${ianaSign}${hours}`;
        }

        function convertFromTimestamp() {
            const timestamp = parseFloat(document.getElementById('timestamp').value);
            const timezone = document.getElementById('output-timezone').value;

            let valid = true;
            valid &= validateInput('timestamp', v => !isNaN(v) && Number.isInteger(parseFloat(v)) && v >= 0, 'Invalid timestamp (non-negative integer).');
            valid &= validateInput('output-timezone', v => /^([+-]\d{2}:\d{2})$/.test(v), 'Invalid timezone.');

            if (!valid) return;

            const date = new Date(timestamp * 1000);
            const iana = getIanaTimeZone(timezone);

            const options = {
                timeZone: iana,
                year: 'numeric',
                month: 'numeric',
                day: 'numeric',
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric',
                hour12: false,
            };

            const formatter = new Intl.DateTimeFormat('en', options);
            const parts = formatter.formatToParts(date);

            const year = parts.find(p => p.type === 'year').value;
            const month = parts.find(p => p.type === 'month').value;
            const day = parts.find(p => p.type === 'day').value;
            const hour = parts.find(p => p.type === 'hour').value;
            const minute = parts.find(p => p.type === 'minute').value;
            const second = parts.find(p => p.type === 'second').value;

            const formattedDate = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')} ${hour.padStart(2, '0')}:${minute.padStart(2, '0')}:${second.padStart(2, '0')} ${timezone}`;

            let resultHtml = `Date/Time: ${formattedDate}<div>Breakdown:</div><div>Year: ${year}</div><div>Month: ${month}</div><div>Day: ${day}</div><div>Hour: ${hour}</div><div>Minute: ${minute}</div><div>Second: ${second}</div><div>Timezone: ${timezone}</div>`;

            document.getElementById('datetime-result').innerHTML = resultHtml;
        }
    </script>
</body>
</html>
